
友元提供了不同类或对象的成员函数之间、类的成员函数与一般函数之间进行数据共享的机制。也就是说，通过友元，一个普通函数或者类的成员函数可以访问到封装于某一类中的数据，这相当于给类的封装开了一个小孔，通过它，可以看到类内部的一些属性。

如果友元是一般函数或类的成员函数，则成为友元函数。友元函数是拥有成员函数一切权利的非成员函数，也就是说，友元函数不是类的成员函数，但可以像成员函数一样直接访问类的私有成员（包括私有数据成员和成员函数）。

如果友元是一个类，则称为友元类，友元类的所有成员函数都为友元函数。

### 声明友元函数

为了使一个函数成员类的友元函数，必须在类中进行声明。声明及友元函数的方式是在类中用关键词friend声明该函数，其一般格式如下:

```c++
friend 函数 返回类型 友元函数名(参数);
```

友元函数说明的位置可以在类的任何地方，即可在public区，也可在protected区，意义完全一样。

友元函数具有以下特点:

1) 友元函数可以是一个普通的函数，也可以是其他类的成员函数，但它一定不是本类的成员函数。
2) 一般成员函数只可以访问一个类的私有和保护的成员，但友元函数可以访问多个类的私有和保护的成员。
3) 友元函数可以绕过成员函数，直接访问类的私有和保护的成员，这样就避免了调用成员函数相关的开销。
4) 如果没有友元功能，一个函数要想访问某个类的私有和保护的成员时，只能是将这个成员设置为公共的，这样一来用户就可以访问该类的所有成员，从而破坏了信息的隐藏性。

```c++
#include <iostream>
using namespace std;

class CLogin
{
private:
   int m_szName[16];
   int m_password;
   
   bool loginBtn(){
      m_szName;
      m_password;
      return true;
   }
   
};

int main(){
   CLogin lg;
   lg.m_password = 111111111;
   lg.loginBtn();

   return 0;
}
```
